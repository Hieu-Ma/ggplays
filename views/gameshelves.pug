extends layout.pug

include utils.pug

append head
    link(rel="stylesheet" href="/stylesheets/gameshelves-all.css")

block content
    div(id= "gameshelves-container")
        div(class="gameshelves-list")
            h3 My Game Shelves
            div(class="form" id="form-container")
                if errors
                    div(id="errors-container")
                        ul
                            each error in errors
                                li= error               
            form(id="newshelf-form" action='/gameshelves/create-shelf' method="post")
                label(for="title" id="create-new-shelf-label") Create New Shelf:
                div(id="create-new-shelf-container")
                    input(type="text" id="title" name="title" value=title)
                    button(type='submit' class='login-button') Create          
            ul
                a(href='/gameshelves') All Games
                    each shelf in shelves
                        li
                        a(href=`/gameshelves/${shelf.id}`)= shelf.title
        div(class="all-games-container")
            each shelf in shelvesGames
                div(id= "shelf-title")= shelf.title
                    each game in shelf.Games
                        //div(id="gameshelves-game-container")
                            //- div(id="title-description")
                        div(id="all-games")
                            div(id="all-game-name")= game.name
                            div(id="all-gameshelf-game-img")
                                img(id="all-image-id" src=game.image_url)
                            div(id="all-game-description-container") Description
                            div(id="all-game-description")
                                div() Developers:
                                    div(id="all-game-description-developers")= game.developer 
                                div() Platforms:
                                    div(id="all-game-description-platforms")= game.platforms
                                div() Year-released:
                                    div(id="all-game-description-released")= game.year_released
                                div() Genre:
                                    div(id="all-game-description-released")= game.Genre.type
                            div(id="all-game-options") Options
                            div(id="all-game-options-container")
                                div(id="all-game-options-bookshelf")
                                    form(action="/gameshelves" method="post" id="all-games-forms") 
                                        label(for='gameshelf') Add to gameshelf:
                                        select(id='all-select-options' name='gameshelf' required)
                                          option(value= '')= ''
                                          each shelf in shelvesGames
                                             option(value=shelf.id)= shelf.title
                                        button() Add
                            
                //- div(id="description")
                //-     div(class="games-container" id="game-description")
                //-             h3 Description:
                //-             h5= `Developer: ${game.developer}`
                //-             h5= `Release Date: ${game.year_released}`
                //-             h5= `Genre: ${game.Genre.type}`
